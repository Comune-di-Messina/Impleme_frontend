!function(e){Drupal.behaviors.main={attach:function(a,s){var r=new ScrollMagic.Controller;if(e(".carousel-hero").not(".processed").each(function(){var a=e(this).find(".carousel-wrapper");a.slick({arrows:!1,autoplaySpeed:4e3,autoplay:!0}),e(this).addClass("processed")}),e(".carousel-card").find(".carousel-wrapper").not(".processed").each(function(){var a=e(this);a.slick({arrows:!1,slidesToShow:1,infinite:!1}),e(this).addClass("processed")}),e('[href="#servizi"]').click(function(a){e(".carousel-servizi").resize().slick("getSlick").refresh()}),e('[href="#luoghi"]').click(function(a){e(".carousel-luoghi").resize().slick("getSlick").refresh()}),e(".carousel-teaser").not(".processed").each(function(){var a=e(this).find(".carousel-wrapper"),s=e(this).find(".carousel-prev"),r=e(this).find(".carousel-next");a.slick({infinite:!1,nextArrow:r,prevArrow:s,slidesToShow:1,mobileFirst:!0,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}}]}),e(this).addClass("processed")}),e("article .carousel-gallery").not(".processed").each(function(){var a=e(this).find(".carousel-wrapper"),s=e(this).find(".carousel-prev"),r=e(this).find(".carousel-next");a.slick({infinite:!1,nextArrow:r,prevArrow:s,dots:!0,appendDots:e(".carousel-dots"),slidesToShow:1,mobileFirst:!0,responsive:[{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}}]}),e(this).addClass("processed")}),e(".search-link").click(function(a){a.preventDefault(),e(".search-overlay").fadeIn(200),e("body").addClass("h-noscroll")}),e("button.close").click(function(a){a.preventDefault(),e(".search-overlay").fadeOut(200),e("body").removeClass("h-noscroll")}),e(".search-overlay .form-text").attr("placeholder","Cerca nel sito"),!e("body").hasClass("header-processed")){new ScrollMagic.Scene({triggerElement:".it-nav-wrapper",triggerHook:0}).setPin(".it-nav-wrapper").on("start end",function(a){e(".it-header-wrapper").toggleClass("h-header-sticky")}).addTo(r);e("body").addClass("header-processed")}if(e(".sticky-col").length>0&&!e("body").hasClass("sidebar-processed")&&(setTimeout(function(){var a=e(".col-cards").height(),s=(e(".leaflet-container").height(),e(".geofield-google-map").height()),i=a-s;if(i>0){new ScrollMagic.Scene({triggerElement:".sticky-col",triggerHook:0,offset:-120,duration:i}).setPin(".sticky-col").addTo(r)}},2e3),e("body").addClass("sidebar-processed")),e(".card-view-more .btn").click(function(a){e(this).parent().prev().toggleClass("h-show")}),e(".card-visura-full .btn-collapse").click(function(a){e(this).closest(".card-visura-full").toggleClass("h-collapsed")}),e(".article.gallery").magnificPopup({delegate:".gallery-element",type:"image",removalDelay:500,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}},tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("data-title")},markup:'<div class="mfp-figure"><div class="mfp-counter"></div><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div></div></div>'}}),e('.sidebar a[href^="#"]').off().click(function(a){a.preventDefault();var s=e(e(this).attr("href")).offset().top;e("body, html").animate({scrollTop:s})}),0===e(".calendar-title").length){var i=e(".paragraph--type--calendario-eventi").find(".field--name-field-titolo");i.prependTo(".paragraph--type--calendario-eventi #calendar.processed").wrap('<h3 class="calendar-title" />').contents().unwrap()}}}}(jQuery);
//# sourceMappingURL=maps/main.min.js.map
